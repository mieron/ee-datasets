TRY DELETE /saps
PUT /saps
{"mappings" : {"publication" : {"properties" : {"id" : {"type" : "string" , "index" : "not_analyzed"}, "title" : {"type" : "string" , "analyzer" : "snowball"}, "publicationAbstract" : { "type" : "string", "analyzer" : "snowball"}, "publicationText" : {"type" : "string", "analyzer" : "snowball"}, "doi" : {"type" : "string", "index" : "not_analyzed"}, "arxiv" : {"type" : "string", "index ":  "not_analyzed"}, "bibcode" : {"type" : "string", "index" : "not_analyzed"}, "journal" : {"type" : "string" , "index" : "not_analyzed"}, "pubYear" : {"type" : "string" , "index" : "not_analyzed"}, "mission" : {"type" : "string" , "index" :  "not_analyzed"}, "approvedBy" : { "type" : "string",  "index" :  "not_analyzed"}, "classificationDate" : { "type" : "date",  "index" : "not_analyzed"}, "authors": { "type" : "string",  "index_name" : "author"}, "observations": {"type": "nested", "properties": {"id": {"type": "string", "index": "not_analyzed"},"obsId": {"type": "string", "index": "not_analyzed"}, "obsDate": {"type": "date", "index": "not_analyzed"}, "obsMetadata": {"type": "nested", "properties": {"id": {"type": "string", "index": "not_analyzed"}, "mission": {"type": "string", "index": "not_analyzed"}, "instrument": {"type": "string", "index": "not_analyzed"}, "filter": {"type": "string", "index": "not_analyzed"}, "mode": {"type": "string", "index": "not_analyzed"}, "exposureTime": {"type": "string", "index": "not_analyzed"}, "targetName": {"type": "string", "index": "not_analyzed"}, "coordinates": {"type": "string", "index": "not_analyzed"}, "proposalScientificCategory": {"type": "string", "index": "not_analyzed"},"pi": {"type": "string", "index": "not_analyzed"},"piAffiliation": {"type": "string", "index": "not_analyzed"}}}}}, "tags" : {"type" : "string", "index_name" : "tag"}}}}}
BULK INDEX saps/publication
{"id":1,"title":"Publication AAA","doi":"DOI_aaa_aa","mission":"XMM","observation":[{"id": "0987654321", "obsId": "0123456789","obsDate": "1-1-2010", "obsMetadata": [{"mission": "XMM","instrument": "Telescope"}]},{"id": "0987654321", "obsId": "0123456789","obsDate": "1-1-2010", "obsMetadata": [{"mission": "XMM","instrument": "Telescope"}]} ]}
{"id":2,"title":"Publication BBB","doi":"DOI_b_bb_bbb","mission":"XMM","observation":[{"id": "0987654321", "obsId": "0123456789","obsDate": "1-1-2010", "obsMetadata": [{"mission": "XMM","instrument": "Telescope"} ]},{"id": "0987654321", "obsId": "0123456789","obsDate": "1-1-2010", "obsMetadata": [{"mission": "XMM","instrument": "Telescope"}]} ]}
{"id":3,"title":"Publication CCC","doi":"DOI_cc","mission":"Herchel","observation":[{"id": "0987654321", "obsId": "0123456789","obsDate": "1-1-2010", "obsMetadata": [{"mission": "XMM","instrument": "Telescope"} ]},{"id": "0987654321", "obsId": "0123456789","obsDate": "1-1-2010", "obsMetadata": [{"mission": "XMM","instrument": "Telescope"} ]} ],"year":2012,"journal":"American Astrophysics"}
