TRY DELETE /saps
PUT /saps ONE_LINE_MAPPING_STRING

{
  "mappings": {
    "publication": {
      "properties": {
        "id": {
          "type": "integer",
          "index": "not_analyzed"
        },
        "title": {
          "type": "string",
          "analyzer": "snowball"
        },
        "publicationAbstract": {
          "type": "string",
          "analyzer": "snowball"
        },
        "publicationText": {
          "type": "string",
          "analyzer": "snowball"
        },
        "doi": {
          "type": "string",
          "index": "not_analyzed"
        },
        "arxiv": {
          "type": "string",
          "index ": "not_analyzed"
        },
        "bibcode": {
          "type": "string",
          "index": "not_analyzed"
        },
        "journal": {
          "type": "string",
          "index": "not_analyzed"
        },
        "pubYear": {
          "type": "integer",
          "index": "not_analyzed"
        },
        "mission": {
          "type": "string",
          "index": "not_analyzed"
        },
        "approvedBy": {
          "type": "string",
          "index": "not_analyzed"
        },
        "classificationDate": {
          "type": "date",
          "index": "not_analyzed"
        },
        "authors": {
          "type": "string",
          "index_name": "author"
        },
        "observations": {
          "type": "nested",
          "properties": {
            "id": {
              "type": "string",
              "index": "not_analyzed"
            },
            "obsDate": {
              "type": "date",
              "index": "not_analyzed"
            },
            "mission": {
              "type": "string",
              "index": "not_analyzed"
            },
            "revolution": {
              "type": "integer",
              "index": "not_analyzed"
            },
            "instrument": {
              "type": "string",
              "index": "not_analyzed"
            },
            "filter": {
              "type": "string",
              "index": "not_analyzed"
            },
            "mode": {
              "type": "string",
              "index": "not_analyzed"
            },
            "pi": {
              "type": "string",
              "index": "not_analyzed"
            },
            "piAffiliation": {
              "type": "string",
              "index": "not_analyzed"
            },
            "exposureTime": {
              "type": "string",
              "index": "not_analyzed"
            },
            "targetName": {
              "type": "string",
              "index": "not_analyzed"
            },
            "coordinates": {
              "type": "string",
              "index": "not_analyzed"
            },
            "featureName": {
              "type": "string",
              "index": "not_analyzed"
            }
          }
        },
        "tags": {
          "type": "string",
          "index_name": "tag"
        }
      }
    }
  }
}

BULK INDEX saps/publication
{
  "id": 1,
  "title": "Publication AAA",
  "doi": "DOI_aaa_aa",
  "mission": "XMM",
  "observation": [
    {
      "id": "0123456789",
      "mission": "XMM",
      "instrument": "Telescope"
    },
    {
      "id": "0987654321",
      "mission": "XMM",
      "instrument": "Stethoscope"
    }
  ],
  "puYear": 2010,
  "journal": "American Astrophysics"
}
{
  "id": 2,
  "title": "Publication BBB",
  "doi": "DOI_b_bb_bbb",
  "mission": "XMM",
  "observation": [
    {
      "id": "01234566666",
      "mission": "XMM",
      "instrument": "Telescope"
    },
    {
      "id": "0987656789",
      "mission": "XMM",
      "instrument": "Magnifier"
    }
  ],
  "pubYear": 2011,
  "journal": "Deep Space Journal"
}{
  "id": 3,
  "title": "Publication CCC",
  "doi": "DOI_cc",
  "mission": "Herchel",
  "observation": [
    {
      "id": "11111111",
      "mission": "Herchel",
      "instrument": "MRI"
    },
    {
      "id": "343434343",
      "mission": "Herchel",
      "instrument": "Magnifier"
    }
  ],
  "pubYear": 2012,
  "journal": "American Astrophysics"
}
